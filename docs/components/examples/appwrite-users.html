<h2>Users</h2>

<div class="row-wrap gap-2">
    <!-- OAuth Buttons -->
    <button @click="$auth.loginOAuth('google')" :disabled="!$auth.canAuthenticate()"><i
            x-icon="simple-icons:google"></i> <span>Sign in with Google</span></button>
    <button @click="$auth.loginOAuth('github')" :disabled="!$auth.canAuthenticate()"><i
            x-icon="simple-icons:github"></i> <span>Sign in with GitHub</span></button>

    <!-- Magic Link Form -->
    <div role="group">
        <input type="email" pattern=".*@.*\..*" required autocomplete="on" placeholder="Input email" class="peer"
            @keyup.enter="$auth.sendMagicLink()" :disabled="!$auth.canAuthenticate()" />
        <button class="peer-invalid:disabled" @click="$auth.sendMagicLink()" :disabled="!$auth.canAuthenticate()">Send
            Magic Link</button>
    </div>

    <!-- Guest Button -->
    <button @click="$auth.requestGuest()" :disabled="!$auth.canAuthenticate()">Continue as Guest</button>

    <!-- Logout Button -->
    <button @click="$auth.logout()" :disabled="!$auth.isAuthenticated || $auth.inProgress"
        class="!w-fit">Logout</button>
</div>

<!-- Status -->
<div class="row-wrap gap-2">
    <small x-show="$auth.inProgress">Authorizing...</small>
    <small x-show="$auth.magicLinkSent">Magic link sent. Check your inbox or spam to sign-in.</small>
    <small x-show="$auth.magicLinkExpired">Magic link expired. Please try again.</small>
    <small x-show="$auth.isAuthenticated">You're signed-in using <b x-text="$auth.method || 'guest'"></b><span
            x-show="$auth.provider"> via <b x-text="$auth.provider"></b></span> as <b
            x-text="$auth.user.email || 'a guest'"></b></small>
    <small x-show="!$auth.isAuthenticated">You're not signed-in.</small>
    <small x-show="$auth.error" x-text="$auth.error"></small>
</div>